[plugin]
id = "text2sql"
display_name = "DataBase Querying"
version = "1.1.0"
spec_version = 2.0
description = "A text to sql tool"
execution.mode = "local"
execution.script_path = "src/text2sql/main.py"

[[plugin.config_schema]]
name = "DB_DIALECT"
type = "string"
required = false
default = "mysql+pymysql"
description = "The database dialect and driver, e.g., 'mysql+pymysql' or 'postgresql+psycopg2'. Defaults to 'mysql+pymysql' if left empty."

[[plugin.config_schema]]
name = "DB_HOST"
type = "string"
required = true
description = "The hostname or IP address of the database server, e.g., 'localhost' or '192.168.1.100'."

[[plugin.config_schema]]
name = "DB_PORT"
type = "string"
required = false
description = "The port number of the database server. If left empty, the default port will be used (e.g., 3306 for MySQL)."

[[plugin.config_schema]]
name = "DB_USER"
type = "string"
required = true
description = "The username for database authentication."

[[plugin.config_schema]]
name = "DB_PASSWORD"
type = "string"
secret = true
required = true
description = "The password for database authentication."

[[plugin.config_schema]]
name = "DB_NAME"
type = "string"
required = true
description = "The name of the specific database to connect to."

[[plugin.config_schema]]
name = "QUERYABLE_TABLES"
type = "string"
required = false
description = "A comma-separated list of table names that the tool is allowed to query (e.g., 'users,products'). If left empty, the tool will attempt to access all tables."

# ==================================
# Language Model (LLM) Configuration
# ==================================

[[plugin.config_schema]]
name = "LLM_MODEL_NAME"
type = "string"
required = true
default = "gpt-4o"
description = "The name of the language model to use, e.g., 'gpt-4o'."

[[plugin.config_schema]]
name = "LLM_API_KEY"
type = "string"
secret = true
required = true
description = "The API key for the language model provider."

[[plugin.config_schema]]
name = "LLM_BASE_URL"
type = "string"
required = false
description = "The base URL for the LLM API, for use with custom endpoints or proxies (Optional)."
